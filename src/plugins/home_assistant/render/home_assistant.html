{% extends "plugin.html" %}

{% block content %}
<div class="ha-dashboard">
  {% if plugin_settings.displayRefreshTime == "true" %}
  <div class="last-refresh">Last refresh: {{ last_refresh_time }}</div>
  {% endif %}

  <div class="header">
    <div class="title">{{ title }}</div>
  </div>

  <div class="entities">
    {% for item in items %}
    <div class="entity-card">
      <div class="entity-name">{{ item.name }}</div>
      <div class="entity-state">
        <span class="state">{{ item.state }}</span>
        {% if item.unit %}<span class="unit">{{ item.unit }}</span>{% endif %}
      </div>
      {% if item.attributes and item.attributes|length > 0 %}
      <div class="attributes">
        {% for a in item.attributes %}
        <div class="attribute"><span class="key">{{ a.key }}</span><span class="value">{{ a.value }}</span></div>
        {% endfor %}
      </div>
      {% endif %}
      <div class="entity-id">{{ item.entity_id }}</div>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
